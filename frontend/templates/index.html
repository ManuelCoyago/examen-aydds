<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Inventario</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<body>
    <div class="container">
        <h1>Sistema de Inventario</h1>
        
        <div class="tabs">
            <button class="tab-button active" onclick="openTab('productos')">Productos</button>
            <button class="tab-button" onclick="openTab('clientes')">Clientes</button>
            <button class="tab-button" onclick="openTab('ventas')">Ventas</button>
        </div>
        
        <!-- Sección Productos -->
        <div id="productos" class="tab-content" style="display: block;">
            <h2>Gestión de Productos</h2>
            <form id="productoForm">
                <input type="text" id="productoNombre" placeholder="Nombre" required>
                <input type="text" id="productoDescripcion" placeholder="Descripción">
                <input type="number" id="productoPrecio" placeholder="Precio" step="0.01" required>
                <input type="number" id="productoStock" placeholder="Stock" required>
                <button type="submit">Agregar Producto</button>
            </form>
            
            <h3>Inventario</h3>
            <h3>Buscar Producto por Código de Barras</h3>
            <form id="buscarCodigoForm">
                <input type="text" id="codigoBusqueda" placeholder="Escanea o escribe el código EAN13" required>
                <button type="submit">Buscar</button>
            </form>
            <div id="resultadoBusqueda"></div>

            <div id="inventarioLista"></div>
            <button type="button" id="btnDescargarPDF">Descargar Reporte de Códigos de Barras (PDF)</button>

            <button id="btnToggleDescontinuados" onclick="toggleProductosDescontinuados()">Ver productos descontinuados</button>

            <table id="tablaDescontinuados" style="display:none;">
            <thead>
                <tr>
                <th>ID</th><th>Nombre</th><th>Descripción</th><th>Acción</th>
                </tr>
            </thead>
            <tbody></tbody>
            </table>



        </div>
        
        <!-- Sección Clientes -->
        <div id="clientes" class="tab-content">
            <h2>Gestión de Clientes</h2>
            <form id="clienteForm">
                <input type="text" id="clienteNombre" placeholder="Nombre" required>
                <input type="email" id="clienteEmail" placeholder="Email" required>
                <input type="text" id="clienteCedula" placeholder="Cédula" required>
                <input type="text" id="clienteTelefono" placeholder="Teléfono">
                <button type="submit">Agregar Cliente</button>
            </form>
            
            <h3>Lista de Clientes</h3>
            <div id="clientesLista"></div>
        </div>
        
        <!-- Sección Ventas -->
        <div id="ventas" class="tab-content">
            <h2>Registro de Ventas</h2>

            <div>
                <label>Cliente: </label>
                <select id="ventaCliente" required></select>
            </div>

            <table id="tablaProductosVenta">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Cantidad</th>
                        <th>Acción</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Filas agregadas aquí -->
                </tbody>
            </table>

            <button type="button" id="btnAddLinea">+ Producto</button>
            <button type="button" id="btnRegistrarVenta">Registrar Venta</button>

            <h3>Historial de Ventas</h3>
            <table id="tablaVentas">
                <thead>
                    <tr>
                        <th>ID Venta</th>
                        <th>Cliente</th>
                        <th>Detalle</th>
                        <th>Total</th>
                        <th>Fecha</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Aquí se insertan las ventas -->
                </tbody>
            </table>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
